#### 一、TCP/IP模型

---

##### 1.1、应用层

实现和用户的交互，工作在操作系统的用户态。

传输层及以下工作在内核态。

##### 1.2、传输层

为应用层提供网络支持：TCP和UDP

TCP：传输控制协议 可靠，流量控制 超时重传 拥塞控制

UDP：不可靠 实时性好，传输效率高

当传输层的数据包超过MSS（TCP最大报文段长度），就要将数据包分块，每一个分块称为一个TCP段。

传输层向应用层传输时，不同的应用都需要接受和传送数据，这时就需要用端口号进行区分，比如80是Web服务器用，22是远程登录服务器用，浏览器的每一个标签栏都是一个独立的进程，操作系统会为这些进程分配临时的端口号。

接收方通过传输层的报文中的端口号识别数据包发给哪个应用。

实际上传输层并不负责一个应用到另一个应用的数据传输，它主要是为应用层提供好服务，作为一个传输的媒介。

传输层的设计理念：专注、高效、简单

##### 1.3、网络层

IP协议两个作用：寻址和路由

寻址：如何知道要传给的是哪一台设备，通过给每台主机分配一个IP地址，这样寻址比较复杂。将IP地址分为网络号和主机号，先通过网络号判断在哪个子网，再去找是哪一台设备。

路由：设备之间由众多网络设备连接，每经过一个网络节点，就需要利用算法决定下一步往哪走。

IP协议将传输层数据加上IP包头组装成IP报文，IP报文超过MTU（以太网中1500字节），就会分片。

##### 1.4、数据链路层

为网络层提供链路级别的服务，标识网络中的设备。

两个不同的网络间传输需要路由器，路由器通过路由算法寻址到目的IP地址，但是仍然无法知道IP地址对应哪一台设备。

每台设备的网卡都有一个MAC地址，ARP协议通过IP地址找到MAC地址从而确定设备。

##### 1.5、物理层

数据从设备发送到网络，数据包要转换成电信号。

为数据链路层提供二进制的服务。

#### 二、TCP篇

---

##### 2.1、TCP三次握手与四次挥手

###### 2.1.1 TCP基本认识



